<mxfile host="app.diagrams.net" modified="2025-12-11T12:00:00.000Z" agent="Claude" etag="use-cases" version="21.0.0" type="device">
  <diagram id="use-cases" name="Use Cases Diagram">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ========== SYSTEM BOUNDARY ========== -->
        <mxCell id="system-boundary" value="AI Trading Race System" style="shape=umlFrame;whiteSpace=wrap;html=1;width=180;height=30;boundedLbl=1;verticalAlign=middle;align=left;spacingLeft=5;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="280" y="40" width="1000" height="900" as="geometry" />
        </mxCell>

        <!-- ========== ACTORS ========== -->

        <!-- Admin/User Actor -->
        <mxCell id="actor-user" value="Admin / User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="80" y="200" width="50" height="100" as="geometry" />
        </mxCell>

        <!-- Scheduler Actor (Azure Functions Timer) -->
        <mxCell id="actor-scheduler" value="Scheduler&#xa;(Azure Functions)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="80" y="500" width="50" height="100" as="geometry" />
        </mxCell>

        <!-- External LLM Provider -->
        <mxCell id="actor-llm" value="LLM Provider&#xa;(GPT/Claude/Grok)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1380" y="350" width="50" height="100" as="geometry" />
        </mxCell>

        <!-- External Market API -->
        <mxCell id="actor-marketapi" value="Market API&#xa;(CoinGecko/Binance)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1380" y="600" width="50" height="100" as="geometry" />
        </mxCell>

        <!-- ========== USE CASE PACKAGES ========== -->

        <!-- Package: Dashboard & Reporting -->
        <mxCell id="pkg-dashboard" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="300" y="70" width="340" height="260" as="geometry" />
        </mxCell>
        <mxCell id="pkg-dashboard-label" value="ðŸ“Š Dashboard &amp; Reporting" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="310" y="75" width="200" height="20" as="geometry" />
        </mxCell>

        <!-- Package: Agent Management -->
        <mxCell id="pkg-agent" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="660" y="70" width="340" height="260" as="geometry" />
        </mxCell>
        <mxCell id="pkg-agent-label" value="ðŸ¤– Agent Management" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="670" y="75" width="180" height="20" as="geometry" />
        </mxCell>

        <!-- Package: Trading & Portfolio -->
        <mxCell id="pkg-trading" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="300" y="350" width="340" height="280" as="geometry" />
        </mxCell>
        <mxCell id="pkg-trading-label" value="ðŸ’° Trading &amp; Portfolio" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="310" y="355" width="180" height="20" as="geometry" />
        </mxCell>

        <!-- Package: Market Data -->
        <mxCell id="pkg-market" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="660" y="350" width="340" height="280" as="geometry" />
        </mxCell>
        <mxCell id="pkg-market-label" value="ðŸ“ˆ Market Data" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="670" y="355" width="150" height="20" as="geometry" />
        </mxCell>

        <!-- Package: AI Decision Engine -->
        <mxCell id="pkg-ai" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="1020" y="70" width="240" height="560" as="geometry" />
        </mxCell>
        <mxCell id="pkg-ai-label" value="ðŸ§  AI Decision Engine" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1030" y="75" width="180" height="20" as="geometry" />
        </mxCell>

        <!-- Package: System Operations -->
        <mxCell id="pkg-ops" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="300" y="650" width="700" height="180" as="geometry" />
        </mxCell>
        <mxCell id="pkg-ops-label" value="âš™ï¸ System Operations" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="310" y="655" width="180" height="20" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - Dashboard & Reporting ========== -->

        <mxCell id="uc-view-leaderboard" value="View Leaderboard" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="330" y="100" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-equity-curves" value="View Equity Curves&#xa;(Race Graph)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480" y="100" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-agent-detail" value="View Agent Detail&#xa;Page" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="330" y="170" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-trade-history" value="View Trade History" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480" y="170" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-export-data" value="Export Performance&#xa;Data" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="405" y="240" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - Agent Management ========== -->

        <mxCell id="uc-list-agents" value="List All Agents" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="690" y="100" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-create-agent" value="Create Agent" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="850" y="100" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-configure-agent" value="Configure Agent&#xa;(Strategy/Provider)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="690" y="170" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-toggle-agent" value="Activate/Deactivate&#xa;Agent" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="840" y="170" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-run-agent-manual" value="Run Agent Cycle&#xa;(Manual)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="765" y="240" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - Trading & Portfolio ========== -->

        <mxCell id="uc-view-portfolio" value="View Portfolio&#xa;State" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="330" y="385" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-positions" value="View Open&#xa;Positions" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="480" y="385" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-execute-trades" value="Execute Trades&#xa;(from Decision)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="330" y="460" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-calculate-pnl" value="Calculate PnL&#xa;&amp; Equity" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="485" y="460" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-create-snapshot" value="Create Equity&#xa;Snapshot" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="405" y="535" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - Market Data ========== -->

        <mxCell id="uc-ingest-market" value="Ingest Market&#xa;Data" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="690" y="385" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-candles" value="View Market&#xa;Candles" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="845" y="385" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-get-latest-prices" value="Get Latest&#xa;Prices" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="690" y="460" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-manage-assets" value="Manage Market&#xa;Assets" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="840" y="460" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-deduplicate-candles" value="Deduplicate&#xa;Candles" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="765" y="535" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - AI Decision Engine ========== -->

        <mxCell id="uc-build-context" value="Build Agent&#xa;Context" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="110" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-call-llm" value="Call LLM API&#xa;(Generate Decision)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="190" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-parse-response" value="Parse AI Response&#xa;to Orders" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="270" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-validate-orders" value="Validate Orders&#xa;(Risk Rules)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="350" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-apply-decision" value="Apply Decision&#xa;to Portfolio" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="430" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-log-decision" value="Log Agent&#xa;Decision" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1075" y="510" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- ========== USE CASES - System Operations ========== -->

        <mxCell id="uc-scheduled-ingest" value="Scheduled Market&#xa;Data Ingestion" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="330" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-scheduled-agents" value="Scheduled Agent&#xa;Execution" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="500" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-health-check" value="System Health&#xa;Check" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="670" y="700" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-view-logs" value="View System&#xa;Logs" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="820" y="700" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-manage-secrets" value="Manage Secrets&#xa;(API Keys)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="415" y="770" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="uc-run-migrations" value="Run Database&#xa;Migrations" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="575" y="770" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- ========== ACTOR ASSOCIATIONS ========== -->

        <!-- User to Dashboard -->
        <mxCell id="assoc-user-leaderboard" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-leaderboard">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-equity" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-equity-curves">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-agentdetail" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-agent-detail">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-tradehistory" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-trade-history">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-export" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-export-data">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- User to Agent Management -->
        <mxCell id="assoc-user-listagents" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-list-agents">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-createagent" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-create-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-configagent" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-configure-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-toggle" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-toggle-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-runmanual" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-run-agent-manual">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- User to Trading -->
        <mxCell id="assoc-user-portfolio" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-portfolio">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-positions" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-positions">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- User to Market Data -->
        <mxCell id="assoc-user-candles" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-candles">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-assets" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-manage-assets">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- User to System Ops -->
        <mxCell id="assoc-user-logs" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-view-logs">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-secrets" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-manage-secrets">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-user-migrations" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;" edge="1" parent="1" source="actor-user" target="uc-run-migrations">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Scheduler associations -->
        <mxCell id="assoc-sched-ingest" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#82b366;" edge="1" parent="1" source="actor-scheduler" target="uc-scheduled-ingest">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-sched-agents" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#82b366;" edge="1" parent="1" source="actor-scheduler" target="uc-scheduled-agents">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-sched-health" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#82b366;" edge="1" parent="1" source="actor-scheduler" target="uc-health-check">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- LLM associations -->
        <mxCell id="assoc-llm-call" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#d6b656;" edge="1" parent="1" source="actor-llm" target="uc-call-llm">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Market API associations -->
        <mxCell id="assoc-api-ingest" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#b85450;" edge="1" parent="1" source="actor-marketapi" target="uc-ingest-market">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="assoc-api-prices" value="" style="endArrow=none;html=1;rounded=0;strokeWidth=1;strokeColor=#b85450;" edge="1" parent="1" source="actor-marketapi" target="uc-get-latest-prices">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== INCLUDE RELATIONSHIPS ========== -->

        <!-- Run Agent Manual includes Build Context -->
        <mxCell id="inc-run-context" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-run-agent-manual" target="uc-build-context">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Build Context includes Call LLM -->
        <mxCell id="inc-context-llm" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-build-context" target="uc-call-llm">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Call LLM includes Parse Response -->
        <mxCell id="inc-llm-parse" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-call-llm" target="uc-parse-response">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Parse Response includes Validate -->
        <mxCell id="inc-parse-validate" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-parse-response" target="uc-validate-orders">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Validate includes Apply Decision -->
        <mxCell id="inc-validate-apply" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-validate-orders" target="uc-apply-decision">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Apply Decision includes Execute Trades -->
        <mxCell id="inc-apply-trades" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-apply-decision" target="uc-execute-trades">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Execute Trades includes Calculate PnL -->
        <mxCell id="inc-trades-pnl" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-execute-trades" target="uc-calculate-pnl">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Calculate PnL includes Create Snapshot -->
        <mxCell id="inc-pnl-snapshot" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-calculate-pnl" target="uc-create-snapshot">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Apply Decision includes Log Decision -->
        <mxCell id="inc-apply-log" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-apply-decision" target="uc-log-decision">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Scheduled Ingest includes Ingest Market -->
        <mxCell id="inc-sched-ingest" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-scheduled-ingest" target="uc-ingest-market">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Ingest Market includes Deduplicate -->
        <mxCell id="inc-ingest-dedup" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-ingest-market" target="uc-deduplicate-candles">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Scheduled Agents includes Run Agent -->
        <mxCell id="inc-sched-run" value="Â«includeÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-scheduled-agents" target="uc-run-agent-manual">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- ========== EXTEND RELATIONSHIPS ========== -->

        <!-- View Leaderboard extends with Export -->
        <mxCell id="ext-leaderboard-export" value="Â«extendÂ»" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="uc-export-data" target="uc-view-leaderboard">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- ========== LEGEND ========== -->
        <mxCell id="legend" value="Legend" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=20;horizontalStack=0;resizeParent=1;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1020" y="680" width="240" height="160" as="geometry" />
        </mxCell>
        <mxCell id="legend-1" value="ðŸ§‘ Actor = User/System/External" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="20" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-2" value="â¬­ Use Case = System functionality" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="40" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-3" value="â”€â”€ Association = Actor uses UC" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="60" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-4" value="- - â†’ Â«includeÂ» = Required step" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="80" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-5" value="- - â†’ Â«extendÂ» = Optional extension" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="100" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-6" value="Colors = Functional domain grouping" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="120" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-7" value="â–¡ Package = Logical grouping" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;" vertex="1" parent="legend">
          <mxGeometry y="140" width="240" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
